<!DOCTYPE html>
<html>
<head>
    <title>Mocha Tests</title>
    <link rel="stylesheet" href="node_modules/mocha/mocha.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>


</head>
<body>

<div id="mocha"></div>
<script src="node_modules/mocha/mocha.js"></script>
<script src="node_modules/chai/chai.js"></script>
<script>mocha.setup('bdd')</script>

<!-- load code you want to test here -->
<script>
    function sceltaComputer() {
        var pc = Math.random();
        if (pc <= 1 / 3) {
            return "sasso";
        } else if (pc < 2 / 3) {
            return "forbice";
        } else {
            return "carta";
        }
    }
</script>

<!-- load your test files here -->

<script src="test/sceltaComputer.js">
</script>


<script>
    function selezioneForma(sceltaUtente) {

        var scelta = sceltaUtente.target.id,
                risultato = $(".risultato h2"),
                computer = sceltaComputer();

        function playing(scelta, computer) {

            $('.img_scelta__computer').attr('src', "image/"+computer+".jpg");

            var txtVittoria="Vittoria!! " + scelta + " batte " + computer,
                    txtSconfitta="Hai perso mi dispiace!! " + scelta + " perde contro " + computer;

            if (scelta === computer) {
                var txt="PAREGGIO!";
                risultato.html(txt);
            } else if (scelta === "sasso") {
                if (computer === "forbice") {
                    risultato.html(txtVittoria);
                } else {
                    risultato.html(txtSconfitta);
                }
            } else if (scelta === "carta") {
                if (computer === "sasso") {
                    risultato.html(txtVittoria);
                    console.log(computer);
                    return "carta vince";
                } else {
                    risultato.html(txtSconfitta);
                    console.log(computer);
                    return "forbice vince";
                }
            } else if (scelta === "forbice") {
                if (computer === "sasso") {
                    risultato.html(txtSconfitta);
                    console.log(computer);
                    return "sasso vince";
                } else {
                    console.log(computer);
                    risultato.html(txtVittoria);
                    return "forbice vince";
                }
            }
        }
        playing(scelta, sceltaComputer());
    }
</script>

<!-- load your test files here -->
<script src="test/selezioneForma.js"></script>


<script>

        function playing(scelta, computer) {
            computer = sceltaComputer();
            var risultato = $(".risultato h2");
            var computer = sceltaComputer();
            $('.img_scelta__computer').attr('src', "image/"+computer+".jpg");

            var txtVittoria="Vittoria!! " + scelta + " batte " + computer,
                txtSconfitta="Hai perso mi dispiace!! " + scelta + " perde contro " + computer;

            if (scelta === computer) {
                var txt="PAREGGIO!";
                risultato.html(txt);
            } else if (scelta === "sasso") {
                if (computer === "forbice") {
                    risultato.html(txtVittoria);
                } else {
                    risultato.html(txtSconfitta);
                }
            } else if (scelta === "carta") {
                if (computer === "sasso") {
                    risultato.html(txtVittoria);
                    console.log(computer);
                    return "carta vince";
                } else {
                    risultato.html(txtSconfitta);
                    console.log(computer);
                    return "forbice vince";
                }
            } else if (scelta === "forbice") {
                if (computer === "sasso") {
                    risultato.html(txtSconfitta);
                    console.log(computer);
                    return "sasso vince";
                } else {
                    console.log(computer);
                    risultato.html(txtVittoria);
                    return "forbice vince";
                }
            }
        }
        playing(scelta, sceltaComputer());

</script>

<!-- load your test files here -->
<script src="test/playing.js"></script>

<script>
    mocha.run();
</script>
</body>
</html>